{% extends "base.html" %}

{% block title %}Edit Product - {{ product.product_name }} - {{ company_name }}{% endblock %}

{% block homecarousel %} {% endblock %}

{% block content %}
<div class="container mt-4">
    <h2 class="mb-4">Edit Product</h2>

    <!-- Form to edit the product -->
    <form method="POST" action="{{ url_for('admin.edit_product', product_id=product.product_id) }}">
        <!-- Product Category -->
        <div class="mb-3">
            <label for="product_category" class="form-label">Product Category</label>
            <select name="product_category" id="product_category" class="form-select" required>
                {% for category in categories %}
                    <option value="{{ category.category_name }}"
                        {% if product.product_category == category.category_name %} selected {% endif %}>
                        {{ category.category_name }}
                    </option>
                {% endfor %}
            </select>
        </div>

        <!-- Product Name -->
        <div class="mb-3">
            <label for="product_name" class="form-label">Product Name</label>
            <input type="text" name="product_name" id="product_name" 
                   class="form-control" value="{{ product.product_name }}" required>
        </div>

        <!-- Product Description -->
        <div class="mb-3">
            <label for="product_description" class="form-label">Product Description</label>
            <textarea name="product_description" id="product_description" 
                      class="form-control" rows="3" required>{{ product.product_description }}</textarea>
        </div>

        <!-- Product Cost -->
        <div class="mb-3">
            <label for="product_cost" class="form-label">Product Price (Ksh)</label>
            <input type="number" name="product_cost" id="product_cost" 
                   class="form-control" value="{{ product.product_cost }}" required>
        </div>

        <!-- Product Image Path -->
        <div class="mb-3">
            <label for="product_image_path" class="form-label">Product Image Path</label>
            <input type="text" name="product_image_path" id="product_image_path" 
                   class="form-control" value="{{ product.product_image_path }}" readonly>
        </div>

        <!-- Form Buttons -->
        <div class="mt-4">
            <button type="submit" class="btn btn-primary">
                <i class="bi bi-save"></i> Save Changes
            </button>
            <a href="{{ url_for('admin.edit_products') }}" class="btn btn-secondary">
                <i class="bi bi-arrow-left"></i> Cancel
            </a>
        </div>
    </form>
</div>
{% endblock %}
